<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cos.playground.mapper.UserMapper">

<!-- 회원 한건보기 (username으로 검색) -->
<select id="findByUsername" resultType="com.cos.playground.model.User">
select * from user where username=#{username}
</select>

<!-- 회원 한건보기 (id로 검색) -->
<select id="findById" resultType="com.cos.playground.model.User">
select * from user where id=#{id}
</select>

<!-- 회원 가입하기 -->
<insert id="join">
insert into user(username, password, name, email, phone, career, regdate)
values (#{username}, #{password}, #{name}, #{email}, #{phone}, #{career}, now())
</insert>

<!-- 회원 정보 수정하기 -->
<update id="updateInfo">
update user set password=#{password}, name=#{name}, email=#{email}, phone=#{phone}, career=#{career}
where username=#{username}
</update>

<!-- 회원 탈퇴 -->
<delete id="delete">
delete from user where username=#{username}
</delete>

</mapper>